# Track 4.1: Developer Specialization

> **Duration:** 1.5-2 hours
> **Prerequisites:** Level 1, Level 2, Level 3.3 (I2E Pipeline)
> **Target Audience:** Software Engineers, ML Engineers, DevOps

---

## Learning Objectives

By the end of this track, you will be able to:
1. Integrate governance into your development workflow seamlessly
2. Write governance-aware code from the start
3. Configure and use all AIGRC developer tools effectively
4. Troubleshoot governance issues independently
5. Champion governance practices within your team

---

## Module 1: Developer Workflow Integration (30 min)

### The Governed Development Loop

```
┌────────────────────────────────────────────────────────────────┐
│                   GOVERNED DEVELOPMENT LOOP                    │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│    1. PLAN          2. CODE           3. COMMIT                │
│    ────────         ────────          ───────                  │
│    Check policy     IDE warnings      Pre-commit hook          │
│    Review assets    Code lens         Local validation         │
│                     Quick fixes                                │
│                                                                │
│    4. PUSH          5. REVIEW         6. MERGE                 │
│    ────────         ───────           ─────────                │
│    CI/CD gate       PR comment        Policy enforced          │
│    SARIF upload     Team review       Audit trail              │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

### Before You Start Coding

**Checklist:**
- [ ] Is there a governance.lock in the project?
- [ ] What vendors/models are approved?
- [ ] What risk level is acceptable?
- [ ] Do I need to create an asset card?

**Quick Check:**
```bash
aigrc status
aigrc policy status
```

### While Coding

**VS Code Extension Workflow:**
1. Write AI import
2. See code lens appear
3. If warning → use quick fix
4. If unregistered → register

**Terminal Workflow:**
```bash
# After adding AI code
aigrc scan .
aigrc register  # If new detection
aigrc validate  # Before commit
```

### Before Committing

**Pre-commit Hook:**
```bash
# .git/hooks/pre-commit
#!/bin/bash
aigrc policy check
if [ $? -ne 0 ]; then
  echo "❌ Policy violation detected. Fix before committing."
  exit 1
fi
```

**Or use husky:**
```json
// package.json
{
  "husky": {
    "hooks": {
      "pre-commit": "aigrc validate && aigrc policy check"
    }
  }
}
```

---

## Module 2: Writing Governance-Aware Code (30 min)

### Pattern 1: Vendor Abstraction

**Problem:** Direct vendor imports throughout codebase

```python
# ❌ Bad: Scattered imports
# file1.py
from openai import OpenAI
# file2.py
from openai import OpenAI
# file3.py
from openai import OpenAI
```

**Solution:** Centralized AI client

```python
# ✅ Good: Single point of governance
# ai/client.py
from openai import OpenAI  # One import to govern

class AIClient:
    """Governed AI client wrapper."""

    def __init__(self):
        self.client = OpenAI()
        self._log_usage()  # Governance tracking

    def complete(self, prompt: str) -> str:
        # Add governance hooks here
        return self.client.chat.completions.create(...)
```

**Asset Card:**
```yaml
# .aigrc/cards/ai-client.asset.yaml
asset_id: ai-client
name: AI Client Wrapper
technical:
  source_files:
    - ai/client.py  # Only this file uses OpenAI
```

### Pattern 2: Model Configuration

**Problem:** Hardcoded model names scattered in code

```python
# ❌ Bad: Hardcoded models
response = client.chat.completions.create(
    model="gpt-4",  # What if this gets blocked?
    ...
)
```

**Solution:** Configurable models

```python
# ✅ Good: Configurable models
# config.py
AI_MODEL = os.getenv("AI_MODEL", "gpt-4")

# Validate against policy
ALLOWED_MODELS = ["gpt-4", "gpt-4-turbo", "claude-3-opus"]
if AI_MODEL not in ALLOWED_MODELS:
    raise ValueError(f"Model {AI_MODEL} not in allowed list")

# usage.py
response = client.chat.completions.create(
    model=config.AI_MODEL,
    ...
)
```

### Pattern 3: Transparency Disclosure

**Problem:** AI interaction without disclosure

```python
# ❌ Bad: No disclosure
def chat(message):
    return ai_client.complete(message)
```

**Solution:** Built-in disclosure

```python
# ✅ Good: Transparent AI
DISCLOSURE = "This response is generated by AI. Information may not be accurate."

def chat(message):
    response = ai_client.complete(message)
    return {
        "content": response,
        "ai_generated": True,
        "disclosure": DISCLOSURE
    }
```

### Pattern 4: Logging for Audit

**Problem:** No audit trail for AI decisions

```python
# ❌ Bad: No logging
result = classifier.predict(data)
return result
```

**Solution:** Comprehensive logging

```python
# ✅ Good: Auditable
import logging
logger = logging.getLogger("aigrc.audit")

def classify(data):
    result = classifier.predict(data)

    logger.info("AI classification", extra={
        "asset_id": "classifier-v1",
        "input_hash": hash_data(data),
        "output": result,
        "confidence": result.confidence,
        "timestamp": datetime.utcnow().isoformat()
    })

    return result
```

---

## Module 3: Advanced Tool Configuration (30 min)

### IDE Configuration

**VS Code settings.json:**
```json
{
  // AIGRC settings
  "aigrc.autoScan": true,
  "aigrc.showInlineWarnings": true,
  "aigrc.cardsDirectory": ".aigrc/cards",
  "aigrc.governanceLockPath": "governance.lock",

  // Recommended editor settings
  "editor.formatOnSave": true,
  "files.associations": {
    "*.asset.yaml": "yaml"
  }
}
```

### CI/CD Configuration

**GitHub Actions (.github/workflows/aigrc.yml):**
```yaml
name: AI Governance

on: [push, pull_request]

jobs:
  governance:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: AIGRC Check
        uses: aigrc/github-action@v1
        with:
          fail-on-violations: true
          fail-on-unregistered: true
          upload-sarif: true
```

### Policy Configuration

**governance.lock essentials:**
```yaml
constraints:
  registry:
    allowed_vendors: [openai, anthropic]
    allowed_models: [gpt-4, gpt-4-turbo, claude-3-opus]
    blocked_models: [gpt-3.5-turbo]  # Deprecated
  build:
    require_asset_card: true
    require_risk_classification: true
    max_risk_level: high  # Block unacceptable
```

### Ignore Patterns

**.aigrcignore:**
```gitignore
# Test fixtures
tests/fixtures/
**/test_*.py
**/*.test.ts

# Build artifacts
dist/
build/
node_modules/

# Experiments
experiments/
notebooks/

# Vendor code
vendor/
third_party/
```

---

## Module 4: Troubleshooting Guide (30 min)

### Common Issues and Solutions

#### Issue 1: False Positive Detection

**Symptom:** Code flagged that doesn't use AI

**Cause:** Pattern matching on import names

**Solution:**
```bash
# Add to .aigrcignore
tests/mocks/fake_openai.py
```

Or use inline ignore:
```python
# aigrc-ignore: not-actual-ai
import openai_mock  # Test mock
```

#### Issue 2: governance.lock Expired

**Symptom:** `governance.lock expired` error

**Solution:**
```bash
aigrc policy refresh
aigrc policy status  # Verify new expiry
```

#### Issue 3: Asset Card Validation Failure

**Symptom:** `Invalid asset card` error

**Diagnosis:**
```bash
aigrc validate --verbose
```

**Common fixes:**
- Missing required fields (owner, risk_classification)
- Invalid YAML syntax
- Wrong file extension (must be `.asset.yaml`)

#### Issue 4: CI/CD Failure with Unknown Vendor

**Symptom:** `unapproved_vendor` error

**Options:**
1. Replace with approved vendor
2. Add to allowed_vendors in policy
3. Request policy exception

**Escalation path:**
```bash
# Check what's approved
cat governance.lock | grep allowed_vendors

# Request addition
aigrc policy request-vendor cohere --reason "Embeddings use case"
```

### Debug Mode

```bash
# Verbose scanning
AIGRC_LOG_LEVEL=debug aigrc scan .

# Trace policy evaluation
AIGRC_LOG_LEVEL=trace aigrc policy check
```

---

## Practice Lab: Complete Workflow

### Scenario

You're adding a new AI feature to an existing project.

### Steps

1. **Check Current State**
   ```bash
   aigrc status
   aigrc policy status
   ```

2. **Write Feature Code**
   ```python
   # features/summarizer.py
   from openai import OpenAI

   class Summarizer:
       def __init__(self):
           self.client = OpenAI()

       def summarize(self, text: str) -> str:
           response = self.client.chat.completions.create(
               model="gpt-4",
               messages=[{"role": "user", "content": f"Summarize: {text}"}]
           )
           return response.choices[0].message.content
   ```

3. **Check IDE Feedback**
   - Open VS Code
   - Observe code lens on import
   - Check for diagnostics

4. **Register Asset**
   ```bash
   aigrc register --detection openai --name "Content Summarizer"
   ```

5. **Validate**
   ```bash
   aigrc validate
   aigrc policy check
   ```

6. **Commit**
   ```bash
   git add features/summarizer.py .aigrc/cards/
   git commit -m "feat: add content summarizer with governance"
   ```

7. **Push and Verify CI**
   - Push branch
   - Check GitHub Actions
   - Verify PR comment

---

## Certification Checklist

To earn AIGRC Developer Certification:

- [ ] Complete all Level 1-3 modules
- [ ] Complete this Developer Track
- [ ] Pass practical assessment:
  - [ ] Configure governance for a sample project
  - [ ] Create valid asset cards for 3 AI systems
  - [ ] Set up CI/CD with AIGRC GitHub Action
  - [ ] Fix 5 simulated policy violations

---

## Quick Reference Card

```
DAILY COMMANDS
─────────────────────────────────
aigrc status          # Quick overview
aigrc scan .          # Find AI code
aigrc validate        # Check config
aigrc policy check    # Verify compliance

WHEN ADDING AI
─────────────────────────────────
aigrc register        # Create asset card
aigrc classify        # Determine risk

TROUBLESHOOTING
─────────────────────────────────
aigrc validate --verbose
AIGRC_LOG_LEVEL=debug aigrc scan .

POLICY MANAGEMENT
─────────────────────────────────
aigrc policy status   # Lock status
aigrc policy refresh  # Regenerate
aigrc policy diff     # Compare versions
```

---

*Track 4.1 - AIGRC Training Program v1.0*
